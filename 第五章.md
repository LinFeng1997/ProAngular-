## 第五章：JavaScript and TypeScript: Part 1
本章不会涉及到JS的方方面面，但至少能让你跟上本书的脚步。
>1.JS越来越像C#和java了，特别是ES6/7的语法特性。
2.现代浏览器是支持新语法特性的，但老式浏览器还是存在问题。
3.解决办法有两个：只使用浏览器实现了的特性或者编译成低版本的JS。
4.最好使用class和装饰器写代码。


### 准备示例程序
添加JavaScriptPrimer文件夹和配置package.json文件
><h3>package.json</h3>
```
{
  "dependencies": {
    "core-js": "2.4.1",
    "classlist.js": "1.1.20150312",
    "systemjs": "0.19.40",
    "bootstrap": "4.0.0-alpha.4"
  },
  "devDependencies": {
    "lite-server": "2.2.2",
    "typescript": "2.0.3",
    "typings": "1.4.0",
    "concurrently": "3.1.0"
  },
  "scripts": {
    "start": "concurrently \"npm run tscwatch\" \"npm run lite\" ",
    "tsc": "tsc",
    "tscwatch": "tsc -w",
    "lite": "lite-server",
    "typings": "typings"
  }
}
```

```
npm install
```
#### 新建HTML和JS文件
在JavaScriptPrimer文件夹下创建primer.ts。在应用运行的时候ts编译器会自动把文件转成js。
#### 配置TS编译器
在JavaScriptPrimer文件夹下创建tsconfig.json。
```
{
  "compilerOptions": {
    "target": "es5",
    "module": "commonjs",
    "moduleResolution": "node",
    "emitDecoratorMetadata": true,
    "experimentalDecorators": true
  },
  "exclude": [ "node_modules" ]
}
```
#### 运行示例程序
```
npm start
```

### 理解script元素
文件从ts变成js是一个尴尬的过渡。但编译器会帮我们做好一切。
```
<script src="primer.js"></script>
```

#### 使用JS模块加载器
使用script可能会有各种错误：一些隐性的拓展脚本没有加载到，脚本执行顺序难以正确。
有了模块加载器，可以管理各个文件，检查依赖关系，确保执行顺序正常。
```
<script src="node_modules/systemjs/dist/system.src.js"></script>
<script>
    System.config({ packages: {"": {}}});
    System.import("primer").catch(function(err){ console.error(err); });
</script>
```

### 总结
| 问题 | 解决方案 | 列表 |
| --- | --- | --- | 
| 添加JS到HTML文档里去 | 使用script标签或者JS模块加载器| 1-6 |
| 创建JS函数 | 使用JS语句 | 7 | 
| 创建一组执行命令的语句 | 使用JS函数 | 8,9,12-14 | 
| 定义处理不定参数的函数 | 使用默认或剩余参数 | 10-11 | 
| 更简洁地表示函数 | 使用箭头函数 | 15 | 
| 存储值和对象以便日后使用 | 用let或者var声明 | 16-17 | 
| 存储基本的数据值 | 使用强制类型 | 18-21 | 
| 控制JS代码执行流 | 使用条件语句 | 22 | 
| 确认两个对象或者值是否相等 | 使用quality和identity操作符 | 23-24 | 
| 显式转换类型 | 使用<type>方法 | 25-27 | 
| 存储相关的值和对象 | 使用数组 | 25-27 | 